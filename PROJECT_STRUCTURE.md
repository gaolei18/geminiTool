# é¡¹ç›®ç»“æ„è¯´æ˜

## å½“å‰é¡¹ç›®ç»“æ„

```
desktop-automation/
â”œâ”€â”€ ğŸ“ src/                          # æºä»£ç ç›®å½•
â”‚   â””â”€â”€ ğŸ“ desktop_automation/        # ä¸»åŒ…
â”‚       â”œâ”€â”€ ğŸ“„ __init__.py           # åŒ…åˆå§‹åŒ–æ–‡ä»¶
â”‚       â”œâ”€â”€ ğŸ“„ core.py               # æ ¸å¿ƒè‡ªåŠ¨åŒ–åŠŸèƒ½ â­
â”‚       â”œâ”€â”€ ğŸ“„ cli.py                # å‘½ä»¤è¡Œæ¥å£
â”‚       â”œâ”€â”€ ğŸ“„ workflows_manifest.json # å·¥ä½œæµæ³¨å†Œè¡¨
â”‚       â””â”€â”€ ğŸ“ successful_workflows/  # å·¥ä½œæµåº“
â”‚           â”œâ”€â”€ ğŸ“„ send_wechat_parameterized.json â­
â”‚           â”œâ”€â”€ ğŸ“„ save_notepad_test.json
â”‚           â””â”€â”€ ğŸ“„ smart_notepad_test.json
â”‚
â”œâ”€â”€ ğŸ“„ send_wechat.py                # å¾®ä¿¡æ¶ˆæ¯å‘é€å·¥å…· â­
â”‚
â”œâ”€â”€ ğŸ“ scripts/                      # å®ç”¨è„šæœ¬
â”‚   â”œâ”€â”€ ğŸ“„ gemini.bat               # Geminiå¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ ğŸ“„ install_deps.bat         # ä¾èµ–å®‰è£…è„šæœ¬
â”‚
â”œâ”€â”€ ğŸ“ tests/                        # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ ğŸ“„ __init__.py
â”‚   â””â”€â”€ ğŸ“„ test_core.py
â”‚
â”œâ”€â”€ ğŸ“ docs/                         # æ–‡æ¡£ç›®å½•
â”‚   â””â”€â”€ ğŸ“„ CLAUDE.md                # Claude Codeå¼€å‘æ–‡æ¡£
â”‚
â”œâ”€â”€ ğŸ“ logs/                         # æ“ä½œæ—¥å¿—ç›®å½•
â”‚   â””â”€â”€ ğŸ“ temp/                     # ä¸´æ—¶æ–‡ä»¶
â”‚
â”œâ”€â”€ ğŸ“„ README.md                     # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ ğŸ“„ requirements.txt              # Pythonä¾èµ–
â”œâ”€â”€ ğŸ“„ setup.py                     # å®‰è£…é…ç½®
â””â”€â”€ ğŸ“„ PROJECT_STRUCTURE.md         # æœ¬æ–‡ä»¶
```

## æ ¸å¿ƒæ–‡ä»¶è¯´æ˜

### ğŸŒŸ ä¸»è¦åŠŸèƒ½æ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜ | é‡è¦æ€§ |
|------|------|--------|
| `send_wechat.py` | **ä¸€é”®å¾®ä¿¡æ¶ˆæ¯å‘é€å·¥å…·** - æ ¸å¿ƒåŠŸèƒ½ | â­â­â­ |
| `src/desktop_automation/core.py` | æ ¸å¿ƒè‡ªåŠ¨åŒ–å¼•æ“ï¼Œæ™ºèƒ½è§†è§‰ç³»ç»Ÿ | â­â­â­ |
| `src/desktop_automation/cli.py` | å‘½ä»¤è¡Œæ¥å£ï¼Œå·¥ä½œæµæ‰§è¡Œå™¨ | â­â­ |
| `src/desktop_automation/successful_workflows/send_wechat_parameterized.json` | å‚æ•°åŒ–å¾®ä¿¡å·¥ä½œæµå®šä¹‰ | â­â­ |

### ğŸ“‹ é…ç½®æ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `src/desktop_automation/workflows_manifest.json` | å·¥ä½œæµæ³¨å†Œè¡¨ |
| `requirements.txt` | Pythonä¾èµ–åˆ—è¡¨ |
| `docs/CLAUDE.md` | å¼€å‘æŒ‡å¯¼æ–‡æ¡£ |

## ä½¿ç”¨æ–¹å¼

### ğŸš€ ä¸»è¦ä½¿ç”¨æ–¹å¼ (æ¨è)

```bash
# å‘é€å¾®ä¿¡æ¶ˆæ¯ - æœ€ç®€å•çš„ä½¿ç”¨æ–¹å¼
python send_wechat.py "è”ç³»äººåå­—" "æ¶ˆæ¯å†…å®¹"

# ç¤ºä¾‹
python send_wechat.py "å¼ ä¸‰" "ä½ å¥½ï¼Œè¿™æ˜¯è‡ªåŠ¨å‘é€çš„æ¶ˆæ¯"
```

### ğŸ› ï¸ é«˜çº§ä½¿ç”¨æ–¹å¼

```bash
# ä½¿ç”¨CLIæ‰§è¡Œå·¥ä½œæµ
python -m src.desktop_automation.cli execute_workflow --name send_wechat_parameterized --params '{"contact_name": "å¼ ä¸‰", "message_content": "æ¶ˆæ¯å†…å®¹"}'

# æ™ºèƒ½æ“ä½œå‘½ä»¤
python -m src.desktop_automation.cli smart_click_text --target_text "ç¡®å®š"
python -m src.desktop_automation.cli analyze_screen_state
```

### ğŸ”§ å¼€å‘æ¨¡å¼

```bash
# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# è¿è¡Œæµ‹è¯•
python -m pytest tests/

# æŸ¥çœ‹å¸®åŠ©
python -m src.desktop_automation.cli --help
```

## æŠ€æœ¯æ¶æ„

### ğŸ§  æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

**æ™ºèƒ½è§†è§‰ç³»ç»Ÿ** (core.py)
- `analyze_screen_state()` - OCRå±å¹•åˆ†æ
- `smart_click_text()` - åŸºäºæ–‡å­—çš„æ™ºèƒ½ç‚¹å‡»
- `find_text_on_screen()` - æ–‡å­—ä½ç½®æ£€æµ‹
- `wait_for_text_appear()` - æ™ºèƒ½ç­‰å¾…æœºåˆ¶

**è‡ªåŠ¨åŒ–å¼•æ“** (core.py)
- `paste_text()` - å‰ªè´´æ¿æ–‡å­—è¾“å…¥ (è§£å†³è¾“å…¥æ³•é—®é¢˜)
- `press_hotkey()` - å¿«æ·é”®æ“ä½œ
- `sleep()` - ç²¾ç¡®å»¶è¿Ÿæ§åˆ¶
- `take_screenshot()` - å±å¹•æˆªå›¾

**å·¥ä½œæµç³»ç»Ÿ** (cli.py + workflows)
- JSONæ ¼å¼å·¥ä½œæµå®šä¹‰
- `{{parameter}}` æ¨¡æ¿å‚æ•°æ›¿æ¢
- ç¨³å®šçš„æ­¥éª¤é—´å»¶è¿Ÿæ§åˆ¶

### ğŸ¯ è®¾è®¡äº®ç‚¹

- **ç®€åŒ–æ¥å£** - `send_wechat.py` æä¾›æœ€ç®€å•çš„ä½¿ç”¨æ–¹å¼
- **è·¨ç¯å¢ƒæ”¯æŒ** - WSLç¯å¢ƒæ§åˆ¶Windowsåº”ç”¨
- **OCRæ™ºèƒ½** - åŸºäºå†…å®¹è€Œéåæ ‡çš„æ“ä½œ
- **ç¨³å®šæ€§** - é€šè¿‡å»¶è¿Ÿæ§åˆ¶ç¡®ä¿UIå“åº”
- **å‚æ•°åŒ–** - çµæ´»çš„æ¨¡æ¿ç³»ç»Ÿ

## é¡¹ç›®æ¼”è¿›

### âœ… å·²å®Œæˆ
- æ™ºèƒ½è§†è§‰è¯†åˆ«ç³»ç»Ÿ
- å‚æ•°åŒ–å·¥ä½œæµå¼•æ“  
- è·¨ç¯å¢ƒè‡ªåŠ¨åŒ–æ¡¥æ¥
- ç¨³å®šçš„å¾®ä¿¡æ¶ˆæ¯å‘é€
- ç®€åŒ–çš„CLIå·¥å…·

### ğŸ—‘ï¸ å·²ç§»é™¤
- GUIç•Œé¢ (ç®€åŒ–ä¸ºCLIä¸“ç”¨)
- å¤šä½™çš„æµ‹è¯•æ–‡ä»¶
- è¿‡æ—¶çš„å·¥ä½œæµå®šä¹‰
- è°ƒè¯•ç”¨ä¸´æ—¶æ–‡ä»¶

è¿™ä¸ªé¡¹ç›®ç°åœ¨ä¸“æ³¨äºå¯é çš„CLIé©±åŠ¨è‡ªåŠ¨åŒ–ï¼Œç‰¹åˆ«æ˜¯å¾®ä¿¡æ¶ˆæ¯å‘é€åŠŸèƒ½ã€‚